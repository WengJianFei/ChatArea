#### This document has been translated into English by AI

<div align="center">
    <img width="150" height="auto" src="https://www.jianfv.top/image/logo.png" />
    <h4>A purely JavaScript encapsulated chat box that is compatible with various frameworks, suitable for both PC and H5 interactions.</h4>
    <p align="center">
        <a href="https://www.npmjs.com/package/chatarea">
        <img src="https://img.shields.io/badge/npm-v4.6.5-blue" alt="version" />
        </a>
        <a href="https://www.npmjs.com/package/chatarea">
        <img src="https://img.shields.io/badge/License-MIT-yellow" />
        </a>
    </p>
</div>

#### Project Structure
```angular2html
|-- chat-area
    |
    |-- es5 // Compatibility with older browser versions
    |   |-- ChatArea.css
    |   |-- ChatArea.js
    |   |-- System.js
    |
    |-- lib
    |    |-- ChatArea.css
    |    |-- ChatArea.js
    |
    |-- demo.html // Example page
```

<h3>
  <a href="https://www.jianfv.top/ChatAreaDoc/" target="_blank">View detailed usage documentation</a>
</h3>

### Install
```
npm i --save chatarea
```
### Basic Usage
```javascript
import ChatArea from 'chatarea'
// Include/Import CSS Stylesheets
import 'chatarea/lib/ChatArea.css'

// At this point, the page will generate a simple chat box using the element you've passed in. You can modify the default styles provided by us by targeting the element's class.
const chat = new ChatArea({
    elm: document.getElementById('id'),
    userList: [
        {
            id: '1',
            name: 'Adam',
            avatar: 'https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png'
        },
        {
            id: '2',
            name: 'Benjamin'
        }
    ],
    placeholder: 'Type "@" to bring up the selection window',
    // more config...
    maxLength: 2000, // Chat box maximum text length limit, no limit if not configured
    copyType: ['text', 'image'], // When allowing for pasting content from the clipboard into the input field, the default types that are accepted are: ['text'].
    userProps: { // Renaming the property names id, avatar, and pinyin in the userList to match the corresponding property names used in the actual business data
        id: 'id',
        name: 'name',
        avatar: 'avatar',
        pinyin: 'pinyin'
    },
    needDialog: true, // Is there a need for a default interactive popup window that can be customized and supported
    needCallEvery: true, // Is there a need for an '@All' option?
    callEveryLabel: 'Everyone', // Revise all the copywriting
    needCallSpace: false, // Do we need to add a space after the "@" tag, just like in WeChat?
    wrapKeyFun: (event) => event.ctrlKey && ['Enter'].includes(event.key), // Custom wrap key
    sendKeyFun: (event) => !event.ctrlKey && ['Enter'].includes(event.key) // Custom send key
})
```

### API
```javascript
// Modify the configuration items of an instance object, where the configuration attributes are optional and can be passed in as needed for modification.
chat.updateConfig({
    userProps: { id: 'userId', name: 'userName' },
    userList: [{ userId: 'NEW1', userName: 'new user' }],
    needCallEvery: false,
    placeholder: 'new placeholder',
    // more config...
})

// Monitor keyboard to trigger sending events
chat.addEventListener('enterSend', () => {
    // send msg
})

// Get the simplified text content of the chat box
chat.getText()

// Get the simplified HTML content of the chat box
chat.getHtml()

// Get the user information for the "@person" tags contained in the userList configuration item within the chat box content.
chat.getCallUserList()

// Get the user information for all "@person" tags within the chat box content.
chat.getCallUserTagList()

// Reverse parse the HTML fragment generated by getHtml and fill it back into the chat box, commonly used for message retraction and re-editing functions.
chat.reverseAnalysis('getHtml({ needUserId: true }) return value', true) // The second configuration parameter can control whether to retain the current chat box content and concatenate it with the refilling content.

// Insert HTML content at the cursor position in the chat box.
chat.insertHtml(`<img src="${url}" alt="404" />`)

// Insert text content at the cursor position in the chat box.
chat.insertText('txt')

// Insert "@person" tag content at the cursor position in the chat box.
chat.setUserTag({ id: '1', name: 'Adam' })

// Clear chat box method
chat.clear()

// Check if the chat box content is empty
chat.isEmpty()

// Used to unmount elements mounted within the <body> when the page or component is destroyed.
chat.dispose()

// Disable chat box editing
chat.disabled()

// Allow chat box editing and direct the cursor to the end of the chat content
chat.enable()

// PC triggers a pop-up window for selecting personnel with the cursor
chat.showPCPointDialog()

// PC triggers a multi-select pop-up window for selecting personnel
chat.showPCCheckDialog()

// H5 triggers a multi-select pop-up window for selecting personnel
chat.showH5Dialog()

// Undo the last chat box operation
chat.undo()

// Redo the last chat box operation
chat.redo()

// Modify the default copywriting for the PC cursor selection pop-up window
chat.revisePCPointDialogLabel({
    title: 'Group members',
    checkLabel: 'Multi-select'
})

// Modify the default copywriting for the PC multi-select pop-up window
chat.revisePCCheckDialogLabel({
    title: 'Select the person(s) to "@"',
    searchPlaceholder: 'Search for person\'s name',
    searchEmptyLabel: 'No matching results found',
    userTagTitle: 'List of seminar participants',
    checkAllLabel: 'Select all',
    confirmLabel: 'Confirm',
    cancelLabel: 'Cancel'
})

// Modify the default copywriting for the H5 selection pop-up window
chat.reviseH5DialogLabel({
    title: 'Select the person to remind',
    searchPlaceholder: 'Search for person\'s name',
    confirmLabel: 'Confirm',
    cancelLabel: 'Cancel'
})
```